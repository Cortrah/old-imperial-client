<template>
    <div id="graphie" @contextmenu.prevent="rightClick($event)"></div>
</template>

<script>
    import * as _ from "lodash";
    import joint from '../../node_modules/jointjs';
    import {g as g} from "jointjs";
    import {Vectorizer as V} from 'jointjs';


    export default {
        name: 'JointMap',
        props: {
            msg: String,
        },
        mounted: function() {

            let graph = new joint.dia.Graph;
            let paper = new joint.dia.Paper({
                el: document.getElementById('graphie'),
                width: 4800,
                height: 2400,
                background: {
                    color: 'rgb(157,178,194)'
                },
                gridSize: 10,
                drawGrid: true,
                model: graph,
            });

            let region1 = new joint.shapes.standard.Path({
                position: { x: 676, y: 249 },
                size: { width: 75, height: 117 },
                attrs: {
                    pathId: '_x33_0',
                    regionId: 247,
                    cellType: "Region",
                    pathFill: '#737144',
                    tooltip: "Place of the innumerable Ghoulfarb Fullsuit",
                    body: {
                        refD: `M704.271,249.39c2.066,2.598,3.596,5.747,6.503,7.513c5.604-0.062,11.917,0.58,15.505-1.503
                            c2.272,0.268,1.658,2.26,2.5,3.506c1.213,1.797,3.498,2.824,4.502,5.009c1.618,3.522-0.062,7.666,1,11.521
                            c1.031,3.751,5.7,5.039,7.002,8.013c0.45,2.061-0.59,4.185,0,6.511c0.892,3.519,7.264,5.153,8.002,9.018
                            c0.246,1.283-0.699,2.299-1,4.007c-0.757,4.303,0.168,7.935-2.5,10.521c-1.016,4.561,0.979,7.686,1.5,11.02
                            c0.27,1.729-0.375,3.669,0,5.009c0.578,2.064,2.741,3.516,3,5.512c0.447,3.418-2.986,11.014-4.5,13.021
                            c0.284,6.297-2.838,9.183-3.001,15.027c-4.927-0.758-7.486,0.851-9.003,3.506c-3,0-6.003,0-9.004,0
                            c-3.742-2.287-2.574-6.918-4.001-10.519c-1.79-4.519-7.006-6.604-9.502-10.021c-1.501,0-3.002,0-4.502,0
                            c-1.822-4.02-5.449-6.229-7.503-10.019c-10.562-0.777-13.388-9.311-22.014-12.021c-0.512-2.942-0.056-6.038-0.501-9.016
                            c-0.182-1.224-1.141-2.841-1-4.007c0.483-3.997,5.247-5.35,3.502-12.523c9.288-6.894,17.938-14.427,24.016-24.544
                            c-0.494-4.015,0.681-6.363,0-9.518c-0.729-3.356-3.53-4.55-3.501-7.012C699.816,253.563,703.552,254.01,704.271,249.39z`
                    },
                    label: {
                        text: 'â˜…\n' + 'Takohn\n (4331)i\nðŸƒŸ'
                    }
                }
            });

            let location1 = new joint.shapes.standard.Path({
                position: {
                    x: 740,
                    y: 324
                },
                size: {
                    width: 20, height: 20
                },
                attrs: {
                    cellType: "Location",
                    body: {
                        refD: `M10 10 H 90 V 90 H 10 L 10 10`
                    },
                    label: {
                        text: 'Ahnupat',
                        fill: 'blue'
                    }
                }
            });
            let location2 = new joint.shapes.standard.Path({
                position: {
                    x: 700,
                    y: 394
                },
                size: {
                    width: 20, height: 20
                },
                attrs: {
                    cellType: "Location",
                    body: {
                        refD: `M10 10 H 90 V 90 H 10 L 10 10`
                    },
                    label: {
                        text: 'Tz\'akat'
                    }
                }
            });
            let location3 = new joint.shapes.standard.Path({
                position: {
                    x: 760,
                    y: 324
                },
                size: {
                    width: 20, height: 20
                },
                attrs: {
                    cellType: "Location",
                    body: {
                        refD: `M10 10 H 90 V 90 H 10 L 10 10`
                    },
                    label: {
                        text: 'Port'
                    }
                }
            });

            let region2 = new joint.shapes.standard.Path({
                position: { x: 640, y: 324 },
                size: { width: 103, height: 112 },
                attrs: {
                    pathId: '_x35_0',
                    regionId: 873,
                    cellType: "Region",
                    pathFill: '#737144',
                    body: {
                        refD: `M704.771,348.067c0.823,0.84,2.937,0.399,4.502,0.502c2.563,2.646,7.281,4.498,9.004,8.519
                            c0.815,1.933,0.222,4.481,1,6.51c1.001,2.608,2.537,3.743,4.501,5.509c4.43-0.588,7.42,0.824,10.503,0
                            c3.143-0.837,4.938-5.836,9.002-3.003c-1.562,4.114-1.286,10.066-4,13.022c-2.398,6.015,2.938,9.748,3.001,13.521
                            c0.073,4.458-5.47,8.132-7.003,12.021c-10.229,3.449-23.188,4.167-21.508,19.538c-14.069-1.569-17.344,7.681-25.514,12.02
                            c-2.061-7.117-3.544-14.812-8.502-19.031c-0.637-2.196-1.312-4.354-2.501-6.014c0.661-6.34-1.686-9.666-5.002-12.021
                            c0.044-9.531-11.85-17.778-18.506-8.02c-5.501,0.166-11.01,0.341-13.505-2.505c0.105-2.729-0.345-6.021,0.5-8.014
                            c9.268-2.241,12.038-10.986,17.008-17.532c0.201-2.134-0.48-5.159,0.5-6.512c11.706,2.833,16.733-7.104,14.004-17.031
                            c-0.854-3.104-4.547-4.437-6.002-6.51c2.242-3.436,5.037-6.312,8.003-9.02c0.671,0.33,0.938,1.071,1,2.003
                            c8.854,2.826,11.812,11.551,22.515,12.523C699.47,342.358,703.114,344.217,704.771,348.067z`
                    },
                    label: {
                        text: 'Chakah'
                    }
                }
            });
            let region3 = new joint.shapes.standard.Path({
                position: { x: 578, y: 390 },
                size: { width: 108, height: 77 },
                attrs: {
                    pathId: '_x36_8',
                    regionId: 874,
                    cellType: "Region",
                    pathFill: '#737144',
                    body: {
                        refD: `M686.266,440.232c-12.037,4.812-28.21,5.479-29.51,21.034
                            c-9.011-2.312-10.616,9.104-20.006,5.513c-1.024-0.393-3.53-2.354-3.001-3.507c-6.638-0.72-11.202-11.278-18.007-5.511
                            c-2.958-1-4.07-3.588-7.002-3.506c-3.627,0.102-6.092,4.479-9.003,6.01c-2.778-1.146-5.291-1.157-7.501,0.501
                            c-2.118-0.551-2.896-2.446-4.502-3.507c2.441-3.812,4.802-8.942,3.501-15.023c-1.575-1.826-4.253-3.631-5.002-6.516
                            c-0.453-1.729,0.265-3.809,0-5.51c-0.771-4.92-5.818-8.333-5-13.521c-0.489-1.687-1.849-2.498-3.003-3.51
                            c1.312-3.188,5.562-3.438,8.504-5.009c2.319-0.161,2.774,1.554,4.501,2.003c4.598-0.314,9.062,0.331,12.505-1.001
                            c3.594-1.394,5.531-5.343,9.002-6.51c1.611-0.543,3.458,0.129,5.002-0.502c3.367-1.378,4.719-5.027,7-7.519
                            c4.071-0.063,6.333,1.678,11.005,1.002c2.337-0.164,2.164-2.841,4.501-3.005c2.887,2.339,10.529,2.958,14.005,2.003
                            c3.298-0.9,4.271-4.453,7.002-4.508c1.98-0.039,5.193,2.149,6.501,4.007c1.438,2.042,0.938,4.896,2.001,7.018
                            c1.047,2.084,3.232,2.553,4.001,4.006c1.086,2.054,0.229,4.136,1,7.515c0.5,2.18,2.212,4.111,2.501,7.017
                            C682.656,424.146,684.009,432.642,686.266,440.232z`
                    },
                    label: {
                        text: 'Chapaht'
                    }
                }
            });

            let region4 = new joint.shapes.standard.Path({
                position: { x: 501, y: 415 },
                size: { width: 89, height: 105 },
                attrs: {
                    pathId: '_x37_7',
                    regionId: 150,
                    cellType: "Region",
                    pathFill: '#737144',
                    body: {
                        refD: `M553.221,515.868c-1.415,1.923-3.566,3.101-6.001,4.007c0.464-3.642-2.812-3.528-3.003-6.517
                            c-4.669,4.099-13.388-16.518-7.501-21.533c-0.13-13.062-9.771-16.599-23.007-16.53c-1.302-5.148,0.38-9.509-1.501-13.023
                            c-2.071-3.867-7.012-3.954-11.003-6.012c0.475-2.023,2.932-2.068,5.5-2.002c5.879-2.295,10.76-5.588,13.504-11.021
                            c3.503,0,7.002,0,10.505,0c9.062-6.955,26.775-5.24,33.511-14.524c0.664-5.344,4.207-7.812,5.5-12.521
                            c3.244-2.607,7.16-1.849,9.511,1.001c-1.045,5.599,4.228,9.499,5.002,14.523c0.799,5.193,0.354,9.812,5,11.521
                            c0.225,2.431,0.273,5.769-0.999,9.016c-0.964,2.438-2.896,2.663-2.501,5.511c0.269,1.979,4.472,3.814,4.501,5.013
                            c0.049,1.959-3.646,3.364-5.002,2.503c-4.521,2.314-7.164,6.521-12.003,8.521c0.778,0.38,0.741,1.588,2,1.502l-0.25,0.917
                            l0.75,0.585c-1.288,1.884-3.209,3.132-5.509,4.007c0.979,2.312,2.994,0.562,5,1.501c-3.22,2.619-5.918,5.765-10.004,7.521
                            c0.789,0.382,0.749,1.588,2.001,1.502c-3.104,1.727-4.812,4.856-8.503,6.012c0.861,0.476,0.819,1.854,2.501,1.502l-0.25,0.918
                            l0.751,0.586c-1.438,2.062-3.462,3.549-6.002,4.51c0.488,0.516,0.987,1.016,1.499,1.502l-0.249,0.917l0.75,0.585
                            c-1.615,2.226-3.71,3.965-6.501,5.012c0.488,0.514,0.988,1.016,1.499,1.502l-0.249,0.919L553.221,515.868z`
                    },
                    label: {
                        text: 'Uchamsa'
                    }
                }
            });
            let region5 = new joint.shapes.standard.Path({
                position: { x: 567, y: 464 },
                size: { width: 100, height: 92 },
                attrs: {
                    pathId: '_x39_0',
                    regionId: 637,
                    cellType: "Region",
                    pathFill: '#737144',
                    body: {
                        refD: `M609.74,466.278c2.089,0.428,2.355-0.977,4.002-1.001c1.145,0.521,1.39,1.945,2.5,2.504
                            c4.644,0.659,8.144-2.979,12.504-2.003c2.85,0.643,3.771,3.357,5.502,4.012c10.107,3.772,11.546-4.738,20.508-5.514
                            c0.021,1.522-1.057,1.944-1.501,3.008c-0.162,4.171-0.12,8.136,1.501,10.521c0.104,1.568-0.338,3.68,0.499,4.507
                            c4.214,6.971,11.259,11.104,11.003,22.542c-0.642,1.264-2.681,2.708-3,4.51c-0.721,4.057-1.874,7.85-3.502,12.521
                            c-0.618,1.775-1.251,4.458-1.999,5.51c-1.854,2.604-6.297,3.548-9.005,5.512c-5.543,4.021-8.609,8.741-11.504,14.522
                            c-3.902,3.771-15.128,0.211-18.506,4.508c-4.648-1.354-8.729-3.282-15.505-2.503c-3.309,1.703-5.16,4.854-8.503,6.514
                            c-2.083-0.25-2.92-1.751-5.002-2.003c-0.729-2.608-0.558-6.131-2-8.018c-3.04-0.63-6.908-0.43-8.511-2.504
                            c1.155-1.854,1.622-4.389,2.009-7.018c0.904-0.756,2.803-0.526,3.5-1.504c0.177-1.496-1.116-2.798-2-4.01
                            c-1.866-2.555-2.691-3.062-5.509-5.008c-0.727-0.504-1.729-1.917-2-2.004c-0.616-0.206-2.346,1.084-3,1.002
                            c-2.405-0.303-2.907-2.85-5.003-3.506c2.104-0.732,4.854-0.82,6.501-2.004c-2.229-1.438-5.062-2.272-7.001-4.012
                            c2.521-1.68,7.184-0.257,10.003-2.507c-2.798-1.372-5.382-2.959-8.003-4.508c3.273-2.942,8.658-0.916,12.514-3.506
                            c-2.807-1.371-5.391-2.959-8.012-4.507c2.69-2.487,7.771-0.495,11.012-3.007c-2.002-1.334-4.572-2.104-6.502-3.508
                            c3.021-3.643,9-1.286,13.005-4.012c-3.028-1.476-5.839-3.17-8.503-5.009c3.475-3.388,9.257-1.396,13.504-4.008
                            c-2.171-1.833-6.166-1.84-7.002-5.009c3.251-0.562,7.08-0.114,10.002-2.004c-0.163-1.176-2.188-0.485-2.5-1.503l0.75-0.25
                            l-0.25-0.75c3.146-3.184,9.415-0.482,12.504-4.016l0.75-0.25L609.74,466.278z`
                    },
                    label: {
                        text: 'K\'aij'
                    }
                }
            });
            let region6 = new joint.shapes.standard.Path({
                position: { x: 692, y: 516 },
                size: { width: 70, height: 51 },
                attrs: {
                    pathId: '_x31_05',
                    regionId: 582,
                    cellType: "Region",
                    pathFill: '#737144',
                    body: {
                        refD: `M762.291,527.889c-3.375,2.133-7.613,3.396-9.502,7.015c-0.106,2.397,0.497,5.513-1,6.518
                            c-7.411-0.259-7.593-7.759-12.505-10.521c-9.583-1.771-11.952,2.993-15.505,7.521c-1.5,0-3.001,0-4.501,0
                            c-3.708,3.798-10.996,4.013-14.005,8.514c0.339,5.352-3.081,6.936-5,10.021c-0.861,4.3,1.196,8.011,0.998,10.021
                            c-4.706,1.346-7.823-2.708-9.01-6.514c3.486-4.729,10.439-16.031,2.5-21.037c3.234-6.986,5.667-11.31,14.513-12.521
                            c1.179-0.162,2.688,0.466,4.001,0c2.436-0.861,3.885-3.688,6.003-4.509c10.042,2.664,16.188-2.328,21.506-6.012
                            c3.703,1.727,4.68,6.271,9.004,8.016c0.979,0.396,2.458-0.221,3.501,0C755.453,524.839,759.416,526.39,762.291,527.889z`
                    },
                    label: {
                        text: 'Kop\'chay'
                    }
                }
            });

            let region7 = new joint.shapes.standard.Path({
                position: { x: 665, y: 605 },
                size: { width: 33, height: 35 },
                attrs: {
                    pathId: '_x31_37',
                    regionId: 135,
                    cellType: "Region",
                    pathFill: '#737144',
                    body: {
                        refD: `
                            M693.268,604.528c5.479,3.2,1.479,15.895,4.001,22.039c-5.375,0.128-6.737,4.27-10.004,6.517
                            c-10.896-1.717-12.292,8.704-22.506,6.011c1.71-8.805,11.08-9.939,14.504-17.028c0.229-5.062,0.075-9.762-1.501-13.021
                            C684.411,609.015,688.158,606.089,693.268,604.528z`
                    },
                    label: {
                        text: 'Utechay'
                    }
                }
            });
            let region8 = new joint.shapes.standard.Path({
                position: { x: 312, y: 139 },
                size: { width: 592, height: 363 },
                attrs: {
                    pathId: '_x38_',
                    regionId: 1014,
                    cellType: "Region",
                    pathFill: '#7895A4',
                    body: {
                        refD: `M903.339,139.192c0,89.996,0,179.988,0,269.985c-53.685,0-107.37,0-161.054,0
                            c-1.7,0.329-0.194-1.172,0-1.503c2.228-3.771,6.246-8.513,8.002-13.022c-0.287-6.604-7.282-12.402-1-17.026
                            c-1.59-2.477,0.693-4.993,1-7.516c0.325-2.646-0.473-5.255,0-8.015c0.297-1.723,1.515-3.1,2.001-5.008
                            c0.504-1.975-0.021-4.269,0.501-6.011c0.529-1.783,2.188-3.861,3-6.515c1.721-5.64,3.174-13.328-1.5-17.528
                            c0.251-3.928-0.087-7.263-1.5-9.52c2.293-4.883,1.693-12.664,5.001-16.531c-1.781-5.896-3.748-11.604-9.504-13.521
                            c3.336-7.935-5.621-10.401-7.002-15.028c-1.086-3.642,0.143-7.225-1-10.518c-1.021-2.932-2.021-4.287-5.002-6.512
                            c-0.737-5.206-3.85-8.279-8.001-8.515c-4.321-0.246-7.985,4.207-12.506,3.507c-4-3.319-5.1-12.189-12.511-11.02
                            c-3.612,0.569-4.813,3.399-5.501,8.014c-2.247,2.928-5.513,4.935-5.502,9.016c0.02,4.609,5.062,7.887,5.002,12.521
                            c-0.041,3.556-2.774,5.735-4.502,8.015c-1.805,2.393-3.521,4.233-5.501,7.013c-5.79,3.217-10.896,7.122-15.005,12.021
                            c-0.048,2.726,1.194,2.917,1,5.008c-0.229,2.546-2.955,3.901-3.5,6.517c-0.587,2.799-0.155,6.333,1,9.516
                            c-1.663,2.12-3.636,5.535-6.502,8.516c-2.945,3.062-7.021,4.573-7.003,8.018c0.033,4.868,6.074,4.998,9.002,8.515
                            c-0.104,2.898,0.619,6.63-1.499,7.517c-6.506-0.812-5.256-9.517-12.505-8.52c-3.041,0.422-4.339,3.294-4.502,5.512
                            c-0.314,4.29,4.184,8.247,4.002,12.021c-0.137,2.854-2.551,4.906-3.501,6.512c-1.412,2.385-2.021,4.177-3.5,6.011
                            c-4.714,1.624-8.961,3.718-11.003,8.017c-0.019,3.02,0.852,5.156,0.5,8.515c-3.235-0.394-5.814-2.789-8.504-2.504
                            c-4.425,0.469-7.24,5.95-9.502,9.018c-6.911-1.33-10.519,6.1-15.505,7.517c-3.768,1.064-6.524,0.153-10.006-2.003
                            c-4.541,0.436-7.479,0.978-11.509,3.007c-1.735,0.881-3.476,2.604-5.501,3.508c-2.961,1.312-4.986,1.096-7.001,2.504
                            c-4.943,3.474-6.438,10.107-9.004,16.025c-5.87,3.767-15.207,4.396-23.008,7.016c-2.126,0.712-4.683,3.295-7.002,3.507
                            c-2.521,0.229-4.793-2.229-7.002-2.004c-5.07,0.521-7.543,9.131-12.003,11.521c-2.162,1.155-7.208,1.521-8.504,2.003
                            c-5.607,2.097-7.771,8.729-12.002,5.512c-3.229-2.452,0.963-1.812,0-5.011c-3.312-6.299-11.479-2.585-11.005,4.51
                            c-1.146,2.937-5.52,4.006-6.006,7.515c-0.521,3.771,3.931,7.834,4.003,11.521c0.062,3.202-4.349,7.111-4.503,11.021
                            c-0.146,3.517,2.3,6.271,2.003,8.52c-0.396,2.979-3.939,4.812-7.505,7.015c-3.022,1.87-6.571,4.827-9.508,4.508
                            c-2.146-0.229-7.596-5.883-10.003-8.515c-20.22-22.121-42.182-44.84-62.52-65.617c-12.694-12.973-24.337-25.374-36.017-37.066
                            c-9.088-9.1-17.758-18.783-27.009-28.05c-1.434-1.437-3.137-3.023-4.501-4.509c-1.271-1.38-2.987-3.097-3.002-5.01
                            C429.688,290.824,548.8,229.874,667.245,166.77c8.312-4.429,16.646-9.224,25.009-13.524c8.531-4.387,17.422-8.181,25.514-13.024
                            c3.896-2.332,17.241-1.002,25.01-1.002C796.854,139.192,849.98,139.208,903.339,139.192z`
                    },
                    label: {
                        text: 'Cape Sutrom'
                    }
                }
            });

            let region9 = new joint.shapes.standard.Path({
                position: { x: 599, y: 415 },
                size: { width: 531, height: 335 },
                attrs: {
                    pathId: '_x37_9',
                    regionId: 1013,
                    cellType: "Region",
                    pathFill: '#7895A4',
                    body: {
                        refD: `M1045.387,584.993c-0.97-6.23-6.863-4.458-10.004-8.521
                            c-5.801,1.562-14.604,1.123-17.004,8.021c-2.901,0.433-4.546,2.125-7.004,3.003c-0.438,2.062-0.897,4.104-1.5,6.011
                            c-4.75,0.579-7.159,2.001-12.003,1.502c-2.507-1.331-4.166-3.509-6.503-5.008c0.255-2.759-0.036-4.978-1.501-6.017
                            c-3.886-0.458-11.285,1.709-14.504-2.507c-3.015,1.074-6.505,1.581-9.002,1.005c-4.044-0.938-5.689-5.772-9.003-6.514
                            c-3.887,0.374-6.599-0.531-9.011,0c-7.438,1.639-7.305,9.086-10.505,15.027c-2.188,4.066-5.257,4.097-8.001,7.512
                            c-1.024,8.43,2.417,13.229-0.5,19.536c-1.783,3.854-7.411,6.379-8.502,11.521c-0.589,2.77,0.817,6.192,0,9.021
                            c-0.807,2.773-5.255,3.896-6.002,7.014c-1.121,4.679,2.979,9.371,1.5,15.026c-2.269,3.079-6.299,3.258-10.004,4.507
                            c-5.251,1.771-10.458,4.387-15.504,5.01c-1.696,0.211-4.712,0.506-6.503,0c-2.788-0.783-2.807-3.479-5.5-6.012
                            c-1.119-1.047-4.122-2.456-6.502-4.006c-2.279-1.484-4.229-3.604-6.003-4.006c-1.748-0.4-4.001,0.521-5.501,0
                            c-2.893-1.018-3.611-5.378-6.502-5.518c-3.521-0.156-4.453,5.312-7.502,6.018c-3.438,0.781-6.521-1.893-10.51-1.503
                            c-5.896,0.562-6.578,5.107-10.005,8.516c-4.977,1.36-7.128,5.549-10.004,9.019c-0.506,3.657,0.695,6.524,0,9.521
                            c-0.504,2.17-2.729,3.23-3.501,5.51c-0.58,1.732,0.234,4.521-0.5,7.015c-1.089,3.688-4.076,5.345-4.001,7.518
                            c0.155,4.405,8.953,6.053,7.503,12.521c-0.542,2.422-3.394,3.459-6.002,5.009c-1.041,2.634-2.146,5.197-3.001,8.018
                            c-0.104,2.604,3.271,1.739,4.001,3.506c0.239,2.743-2.234,2.771-2.001,5.513c-0.018,3.021,2.358,3.646,2.001,7.015
                            c-7.333,6.327-20.678-0.979-31.51,1.503c-2.943,1.729-6.762,2.579-9.503,4.51c-5.548,0.983-9.93-1.03-14.505-1.502
                            c-1.679-0.172-3.812,0.331-5.501,0c-4.366-0.854-9.356-4.062-16.006-3.508c-1.747,0.146-2.521,1.125-4.002,1.505
                            c-3.271,0.82-7.505,0.923-10.505,0.5c-2.875-0.405-7.745-3.441-11.509-4.01c-2.464-0.372-4.997,0.896-7.5,0
                            c-1.896-0.687-2.925-4.021-5.504-4.01c-0.375-2.681-2.688-4.839-4.501-7.015c-1.611-1.938-3.562-4.733-5.501-6.011
                            c-1.479-0.976-3.53-0.646-5.001-1.501c-1.04-0.608-4.345-3.788-5.502-5.013c-0.902-0.955-1.103-2.438-2.001-3.508
                            c-0.844-1.009-2.165-1.513-3-2.504c-3.218-3.825-5.251-7.409-11.003-9.019c-7.712-9.146-6.2-27.521-20.007-30.56
                            c-1.312-3.021-2.857-5.817-5.501-7.517c-2.672,0.583-4.124,0.233-6.503-0.502c-3.88-4.499-0.725-10.774-1.501-16.024
                            c-0.49-3.311-3.146-8.947-5.001-12.021c-1.287-2.134-2.997-3.793-4.501-5.51c0.342-4.354-3.18-6.609-3.5-11.021
                            c-0.186-2.435,1.367-4.79,1-7.514c-0.688-5.071-7.786-7.208-8.504-14.025c-0.274-2.622-0.098-7.038,0-10.519
                            c0.062-2.383,1.311-4.771,1-6.518c-0.604-3.401-5.997-6.698-6.002-11.521c-0.001-1.297,1.266-2.984,2.004-5.51
                            c0.604-2.088,0.369-5.185,1-6.52c0.956-2.027,4.289-3.299,5.5-4.508c5.688,2.524,15.662,4.896,20.509,0
                            c2.29,0.21,3.211,1.793,5.501,2.003c3.088-1.896,7.771-2.847,10.504-6.01c2.396-2.775,2.792-6.294,4.5-8.513
                            c3.896-5.064,12.146-5.958,16.006-12.023c2.148-3.381,3.459-9.637,5.001-14.525c0.531-1.688,0.962-3.738,1.5-5.009
                            c0.938-2.189,3.278-4.382,3.501-6.012c0.678-4.92-2.176-13.294-4.001-16.53c-2.229-3.955-5.878-6.75-8.002-10.017
                            c-0.469-2.871-0.606-6.066-1.5-8.521c1.614-3.227,3.918-5.763,3-11.521c5.959-9.312,18.648-6.846,27.011-13.023
                            c0.58-0.432,0.826-1.475,1.5-2.004c0.685-0.524,1.993-0.548,2.5-1.002c3.736-3.353,6.375-9.562,12.506-10.519
                            c2.576-0.399,6.311,1.127,8.505,0.501c5.125-1.46,4.771-8.314,5.003-12.523c2.79-5.9,9.225-4.007,18.007-4.007
                            c122.541,0,250.735,0,372.124,0c1.082,1.238,2.396,2.329,3.5,3.506c1.137,1.214,1.991,2.675,3.502,3.506
                            c4.146,0.733,7.718,1.45,11.004,4.017c-0.597,1.396-0.572,3.046,0.5,4.006c-2.042,5.729-10.188,4.245-14.004,8.015
                            c-2.47,2.438-1.913,5.256-3.5,9.021c-4.109,0.331-8.789,3.232-9.505,7.013c-0.565,2.994,1.305,6.507,2.5,10.021
                            c1.753,5.143,4.31,9.979,1.501,16.025c-1.896,4.089-8.723,7.426-9.503,12.522c-0.437,2.793,1.023,5.786,1.5,10.019
                            c-3.316-0.011-5.271-0.156-7.009,0.5c-5.643,2.13-3.562,10.703-8.002,14.027c1.858,13.882-12.507,11.521-11.505,24.545
                            c-2.124,1.878-2.938,5.062-5.501,6.51c-6.294,0.172-8.319,1.396-14.005,0.5c-0.679,2.225,1.08,3.824,1.001,6.011
                            c-0.039,1.062-1.272,2.572-1.501,4.01c-0.25,1.609,0.246,3.314,0,4.514c-0.849,4.1-3.771,7.42-1,11.521
                            c-1.548,3.292-3.616,6.062-4.502,10.021l-0.749-0.25L1045.387,584.993z M769.294,534.401c1.75-1.021,2.668-3.024,4.501-4.511
                            c2.43-1.962,4.876-1.984,5.002-4.509c0.293-5.877-6.215-3.281-11.503-4.006c-4.426-0.604-9.118-4.688-14.505-4.007
                            c-4.458-2.688-4.683-7.12-8.504-8.521c-7.503-2.74-12.162,6.108-17.505,7.021c-3.229,0.546-7.046-1.412-10.504-0.5
                            c-2.554,1.125-3.998,3.342-6.501,4.508c-11.12,0.05-17.22,5.136-20.015,13.521c-3.188,2.04-7.832,5.184-6.503,9.521
                            c0.999,3.258,5.062,2.018,8.003,4.007c-0.75,6.03-7.812,7.538-8.003,13.024c-0.062,1.924,0.812,1.909,2.001,4.007
                            c2.947,5.186,5.772,8.512,10.504,11.019c7.313,0.18,16.345-1.972,16.513-7.514c0.108-3.803-3.769-3.778-5.001-7.512
                            c2.583-2.596,4.812-5.535,5.501-10.021c6.277,0,7.509-5.938,13.505-3.506c4.441-1.553,4.286-7.729,9.501-8.52
                            c3.375,4.975,6.396,10.291,14.506,10.521c3.016,4.91,11.591,3.381,12.505-2.004c0.596-3.521-2.057-4.962-3.001-8.521
                            C762.079,535.679,766.263,536.162,769.294,534.401z M675.262,601.021c-3.055,2.878-5.608,2.74-6.001,7.017
                            c-0.33,3.644,3.486,6.139,3,10.019c-0.493,3.916-6.25,5.808-9.002,8.518c-3.062,3.021-7.852,9.542-7.503,14.023
                            c0.278,3.561,3.984,7.131,7.503,7.515c2.146,0.23,3.341-1.587,5-1.501c1.417,0.069,1.533,1.815,3.502,1.501
                            c5.407-3.04,9.323-8.731,17.506-7.515c4.601-0.468,4.812-7.318,9.512-6.513c2.521,0.435,2.896,6.025,6.502,6.513
                            c2.946,0.396,4.188-1.358,7.002-4.009c1.644-7.832-5.618-9.607-8.003-15.022c-1.938-4.384-0.023-9.055-1-15.022
                            c-0.684-4.14-3.548-7.585-6.502-10.021C686.983,595.231,684.485,603.342,675.262,601.021z`
                    },
                    label: {
                        text: 'Bay of Duhrl'
                    }
                }
            });

            let region10 = new joint.shapes.standard.Path({
                position: { x: 453, y: 458 },
                size: { width: 88, height: 97 },
                attrs: {
                    pathId: '_x33_0',
                    regionId: 101,
                    cellType: "Region",
                    pathFill: '#C06338',
                    body: {
                        refD: `M510.207,464.272c1.332,4.016-0.844,11.529,2,14.023c4.373,0.375,9.777-0.219,14.005,1.502
                            c3.904,1.59,7.931,7.082,8.002,9.521c0.062,1.981-0.712,3.012-2,4.513c-0.63,7.479,1.418,12.271,3.002,17.528
                            c1.712,2.559,5.21,3.483,5.501,6.516c0.326,3.384-3.336,6.014-4.501,9.017c-1.352-0.146-0.896-2.104-2.002-2.506
                            c-3.684,3.824-4.713,10.31-8.501,14.025c-2.226-0.108-2.229-2.438-3.502-3.511c-4.881,7.305-7.862,16.509-16.005,20.537
                            c-0.755-3.417-2.669-5.678-4.001-8.519c-3.108,0.896-3.216,4.795-4.502,7.517c-2.175-6.171-8.884-7.802-13.504-11.521
                            c-2.687-0.186-3.521,1.487-6.502,1c-0.04-4.803-6.454-3.222-5.501-9.021c-0.791-1.884-3.198-2.144-5.503-2.504
                            c-2.074-4.102-8.901-3.438-13.504-5.01c2.931-3.578,1.062-11.957,3-16.531c1.394-1.104,3.942-1.053,6.002-1.502
                            c3.806-1.69,5.873-5.139,10.503-6.011c2.889-1.782,4.333-5.009,6.502-7.513c-0.297-2.887,0.396-5.581,0-8.521
                            c-0.149-1.104-1.093-2.526-1-3.506c0.243-2.582,2.893-3.993,3.501-6.512c1.561-6.474-0.979-10.917-3.001-15.028
                            c0.918-0.749,1.246-2.091,2.5-2.504c4.35,2.094,14.929,3.929,17.007-1.503C501.97,460.501,507.252,461.223,510.207,464.272z`
                    },
                    label: {
                        text: 'Yak\'in'
                    }
                }
            });
            let region11 = new joint.shapes.standard.Path({
                position: { x: 525, y: 534 },
                size: { width: 78, height: 85 },
                attrs: {
                    pathId: '_x31_053',
                    regionId: 346,
                    cellType: "Region",
                    pathFill: '#C9AC68',
                    body: {
                        refD: `M578.729,535.906c-3.613,6.889-1.819,11.922,7.011,12.021
                            c0.303,6.208,3.61,9.401,9.003,10.521c-3.619,7.304-4.854,21.912,2,26.552c0.979,7.959-1.75,17.152,1,23.041
                            c1.345,2.878,4.303,3.046,5.002,6.01c-2.665,2.729-10.317,3.958-12.004-0.499c-5.82-0.467-8.688,3.938-14.512,3.506
                            c-2.898-0.217-5.354-2.837-8.004-2.505c-2.942,0.368-3.935,3.521-6.502,4.508c-1.076-0.423-0.807-2.194-1.5-3.005
                            c-4.674-1.707-5.268-6.635-9.003-9.521c-1.969-1.521-5.067-1.445-7.002-3.005c-0.979-0.795-1.762-3.067-3.001-4.511
                            c-1.326-1.532-2.963-2.2-3.502-3.506c-1.514-3.676-0.364-8.721-2-13.022c-1.623-4.271-6.662-7.125-9.003-11.021
                            c2.613-0.896,5.17-1.835,7.504-3.004c2.741,0.177,3.616,2.271,6.501,1.001c-0.951-3.06-5.099-2.909-4.501-7.519
                            c-2.271-0.622-6.854-1.672-10.004,0c0.271-1.771-1.771-1.229-1.499-3.006c5.075,0.729,8.169-2.587,12.003-1.5
                            c0.021-4.688-5.042-4.306-5.502-8.52c6.922,0.658,12.458-2.419,17.505-2.003c0.021-4.693-5.041-4.302-5.502-8.519
                            c5.447,0.229,10.531-2.412,14.505-2.007c1.729-2.672,6.242-3.085,7.503,0C570.28,536.794,573.809,535.65,578.729,535.906z`
                    },
                    label: {
                        text: 'Poror'
                    }
                }
            });

            let leader1 = new joint.shapes.standard.Path({
                position: {
                    x: 520,
                    y: 80
                },
                size: {
                    width: 20, height: 20
                },
                attrs: {
                    cellType: "Leader",
                    body: {
                        refD: `M10 10 H 90 V 90 H 10 L 10 10`
                    },
                    label: {
                        text: 'L1'
                    }
                }
            });

            graph.addCells([
                region1, region2, region3, region4, region5,
                region6, region7, region8, region9, region10,
                region11
            ]);

            graph.addCells([
                location1, location2, location3
            ]);

            graph.addCells([
                leader1
            ]);

            let image = new joint.shapes.standard.Image();
            image.resize(20, 20);
            image.position(50, 50);
            image.attr('root/title', 'joint.shapes.standard.Image');
            image.attr('tooltip', 'Port Smith');
            image.attr('image/xlinkHref', './img/glyphs/port.png');
            image.addTo(graph);

            // First, unembed the cell that has just been grabbed by the user.
            paper.on('cell:pointerdown', function(cellView, evt, x, y) {

                if (cellView.model.attributes.attrs.cellType === "Leader") {
                    let cell = cellView.model;

                    if (!cell.get('embeds') || cell.get('embeds').length === 0) {
                        // Show the dragged element above all the other cells (except when the element is a parent).
                        cell.toFront();
                    }

                    if (cell.get('parent')) {
                        graph.getCell(cell.get('parent')).unembed(cell);
                    }
                } else {
                    evt.data.guarded = true;
                }
            });

            // When the dragged cell is dropped over another cell, let it become a child of the element below.
            paper.on('cell:pointerup', function(cellView, evt, x, y) {

                let cell = cellView.model;
                let cellViewsBelow = paper.findViewsFromPoint(cell.getBBox().center());

                if (cellViewsBelow.length) {
                    // Note that the findViewsFromPoint() returns the view for the `cell` itself.
                    let cellViewBelow = _.find(cellViewsBelow, function(c) { return c.model.id !== cell.id });

                    // Prevent recursive embedding.
                    if (cellViewBelow && cellViewBelow.model.get('parent') !== cell.id) {
                        cellViewBelow.model.embed(cell);
                    }
                }
            });

            paper.on('cell:mouseover', function(cellView, evt, x, y) {
                if (cellView.model.attributes.attrs.cellType === "Region") {
                    console.log(cellView.model.attributes.attrs.tooltip);
                }
            });
        },
        methods: {
            rightClick: function(e) {
                console.log(e);
                console.log("x:" + e.offsetX + " , y:" + e.offsetY)
            }
        }
    }

</script>
